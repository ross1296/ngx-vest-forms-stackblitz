<form
  class="mt-8"
  scVestForm
  (ngSubmit)="onSubmit()"
  [formValue]="formValue()"
  [validateRootForm]="true"
  [formShape]="shape"
  [suite]="suite"
  [validationConfig]="validationConfig"
  (validChange)="formValid.set($event)"
  (errorsChange)="errors.set($event)"
  (formValueChange)="setFormValue($event)"
>
  <fieldset [disabled]="vm.loading">
    <h1 class="text-4xl">Purchase form</h1>
    <div class="sm:col-span-2" sc-control-wrapper>
      <label>
        <span>User id</span>
        <input
          placeholder="Type user id"
          type="text"
          [ngModel]="vm.formValue.userId"
          name="userId"
        />
      </label>
    </div>
    <div class="w-full" sc-control-wrapper>
      <label>
        <span>First name</span>
        <input
          placeholder="Type your first name"
          type="text"
          [ngModel]="vm.formValue.firstName"
          name="firstName"
        />
      </label>
    </div>
    <div class="w-full" sc-control-wrapper>
      <label>
        <span>Last name</span>
        <input
          placeholder="Type your last name"
          type="text"
          [ngModel]="vm.formValue.lastName"
          name="lastName"
        />
      </label>
    </div>
    <div class="w-full" sc-control-wrapper>
      <label>
        <span>Age</span>
        <input
          placeholder="Choose your age"
          type="number"
          [ngModel]="vm.formValue.age"
          name="age"
        />
      </label>
    </div>
    <div class="w-full" sc-control-wrapper>
      <label>
        <span>Emergency contact</span>
        <input
          placeholder="Type your emergency contact"
          type="text"
          [disabled]="vm.emergencyContactDisabled"
          [ngModel]="vm.formValue.emergencyContact"
          name="emergencyContact"
        />
      </label>
    </div>
    <div
      class="sm:col-span-2 p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700"
    >
      <div class="" sc-control-wrapper>
        <label><span>Gender</span></label>
        <div class="flex">
          <div class="radio-button mr-4">
            <input
              id="gender-male"
              type="radio"
              [ngModel]="vm.formValue.gender"
              name="gender"
              value="male"
            />
            <label for="gender-male">Male</label>
          </div>
          <div class="radio-button mr-4">
            <input
              id="gender-female"
              type="radio"
              [ngModel]="vm.formValue.gender"
              name="gender"
              value="female"
            />
            <label for="gender-female">Female</label>
          </div>
          <div class="radio-button mr-4">
            <input
              id="gender-other"
              type="radio"
              [ngModel]="vm.formValue.gender"
              name="gender"
              value="other"
            />
            <label for="gender-other">Other</label>
          </div>
        </div>
      </div>
      @if (vm.showGenderOther) {
        <div class="sm:col-span-2" sc-control-wrapper>
          <label>
            <span>Specify gender</span>
            <input
              type="text"
              [ngModel]="vm.formValue.genderOther"
              name="genderOther"
            />
          </label>
        </div>
      }
    </div>

    <div class="sm:col-span-2" sc-control-wrapper ngModelGroup="passwords">
      <div class="grid gap-4 sm:grid-cols-2 sm:gap-6">
        <div class="w-full" sc-control-wrapper>
          <label>
            <span>Password</span>
            <input
              placeholder="Type password"
              type="password"
              [ngModel]="vm.formValue.passwords?.password"
              name="password"
            />
          </label>
        </div>
        <div class="w-full" sc-control-wrapper>
          <label>
            <span>Confirm</span>
            <input
              placeholder="Confirm password"
              type="password"
              [ngModel]="vm.formValue.passwords?.confirmPassword"
              name="confirmPassword"
            />
          </label>
        </div>
      </div>
    </div>
    <div class="sm:col-span-2" sc-control-wrapper>
      <label>
        <span>Product</span>
        <select name="productId" [ngModel]="vm.formValue.productId">
          @for (product of products(); track product.id) {
            <option [value]="product.id">{{ product.name }}</option>
          }
        </select>
      </label>
    </div>
    <div class="buttons">
      <button type="button">Reset</button>&nbsp;
      <button type="submit">Submit</button>
    </div>
  </fieldset>
</form>